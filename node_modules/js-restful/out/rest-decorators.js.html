<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: rest-decorators.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: rest-decorators.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
require('reflect-metadata');
var namings = require('./namings');
function createHttpMethodFunction(httpMethod) {
    return function (target, key, descriptor) {
        Reflect.defineMetadata(namings.buildFullName(httpMethod), true, descriptor.value);
    };
}
/**
 * Publish a method as an http endpoint for GET requests. If no Path is specified the path will be /.
 * The decorator is only allowed on methods.
 * @returns the decorated function
 */
function GET() { return createHttpMethodFunction(namings.getMethod); }
exports.GET = GET;
/**
 * Publish a method as an http endpoint for POST requests. If no Path is specified the path will be /.
 * The decorator is only allowed on methods.
 * @returns the decorated function
 */
function POST() { return createHttpMethodFunction(namings.postMethod); }
exports.POST = POST;
/**
 * Publish a method as an http endpoint for PUT requests. If no Path is specified the path will be /.
 * The decorator is only allowed on methods.
 * @returns the decorated function
 */
function PUT() { return createHttpMethodFunction(namings.putMethod); }
exports.PUT = PUT;
/**
 * Publish a method as an http endpoint for DELETE requests. If no Path is specified the path will be /.
 * The decorator is only allowed on methods.
 * @returns the decorated function
 */
function DELETE() { return createHttpMethodFunction(namings.deleteMethod); }
exports.DELETE = DELETE;
/**
 * Specify the Path for teh ressource. If the decorator is present at class level all methods paths will be
 * prefixed with this path.
 * @param path The path for the class or method. The path must not be start with /.
 * The slash will be added automatically.
 * @returns the decorated function
 */
function Path(path) {
    return function (target, propertyKey, descriptor) {
        if (!propertyKey &amp;&amp; !descriptor) {
            // add meta data to the class itself - e.g. target is the constructor and propertyKey and descriptor are undefined
            return Reflect.defineMetadata(namings.buildFullName(namings.path), path, target);
        }
        else {
            // add meta data to a function
            return Reflect.defineMetadata(namings.buildFullName(namings.path), path, descriptor.value);
        }
    };
}
exports.Path = Path;
/**
 * Description of a parameter decorator.
 */
var ParamDescription = (function () {
    function ParamDescription() {
    }
    return ParamDescription;
}());
exports.ParamDescription = ParamDescription;
function createParamDecorator(name, pathParamKey) {
    return function (target, propertyKey, parameterIndex) {
        var existingPathParams = Reflect.getOwnMetadata(pathParamKey, target, propertyKey) || [];
        existingPathParams.push({ pathParam: name, index: parameterIndex });
        Reflect.defineMetadata(pathParamKey, existingPathParams, target, propertyKey);
    };
}
var pathParamKey = namings.buildFullName(namings.pathParam);
var headerParamKey = namings.buildFullName(namings.headerParam);
/**
 * Specifies how a method parameter is evealuated. In this case the value will be taken
 * from the parameter that is specified in the path decorator.
 * @param name the name in the path that should be used to provide the parameter to the method.
 * @returns the decorated function
 */
function PathParam(name) { return createParamDecorator(name, pathParamKey); }
exports.PathParam = PathParam;
/**
 * Specifies how a method parameter is evealuated. In this case the value will be taken
 * from a http header.
 * @param name the name in the http header that should be used to provide the parameter to the method.
 * @returns the decorated function
 */
function HeaderParam(name) { return createParamDecorator(name, headerParamKey); }
exports.HeaderParam = HeaderParam;
//# sourceMappingURL=rest-decorators.js.map</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#DELETE">DELETE</a></li><li><a href="global.html#GET">GET</a></li><li><a href="global.html#HeaderParam">HeaderParam</a></li><li><a href="global.html#ParamDescription">ParamDescription</a></li><li><a href="global.html#Path">Path</a></li><li><a href="global.html#PathParam">PathParam</a></li><li><a href="global.html#POST">POST</a></li><li><a href="global.html#PUT">PUT</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Apr 29 2016 12:28:27 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
